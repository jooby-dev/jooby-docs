# Day

This command is generated by the sensor and sent periodically without any request from the server when it is configured to provide daily consumption data.
The command contains complete pulse counter data for the specified day.

For hardware revisions `1`, `2`.


## Event

### Format

| Size | Type                                                                                  | Field                                                                                 |
| ---- | ------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------- |
| `1`  | `uint8`                                                                               | command id `0x20` + command size `6`                                                  |
| `2`  | [packed date](../../types.md#packed-date)                                             | [date](#date)                                                                         |
| `1`  | [magnetic influence flag and hour](../../types.md#packed-magnetic-influence-and-hour) | [packed info of magnet influence and time](#packed-info-of-magnet-influence-and-time) |
| `3`  | `uint8`                                                                               | [counter value](#counter-value)                                                       |

It's a command with a [one-bytes header](../../message.md#command-with-a-one-byte-header).

### Parameters

#### **date**

The command contains counter data for this date.
<br>
[See details](../../types.md#packed-date).

#### **packed info of magnet influence and time**

The magnetic influence bit flag indicates that there was a magnet intervention during the specified day.
<br>
The command contains counter data for this time.
<br>
[See details](../../types.md#packed-magnetic-influence-and-hour).

#### **counter value**

It's a pulse counter value for given date and time packed in `3` bytes.

### Examples

| Field                            | Value                         | Bits                 | Hex        |
| -------------------------------- | ----------------------------- | -------------------- | ---------- |
| command id + command size        | `32` + `6`                    |                      | `0x26`     |
| date                             | `2023.12.23`                  | `0b0010111110010111` | `0x2f97`   |
| magnetic influence flag and hour | magnet: `true`, time: `00:00` | `0b10000000`         | `0x80`     |
| counter value                    | `122`                         |                      | `0x00007a` |

Message hex dump with LRC: `26 2f 97 80 00 00 7a 31`


## See also

* [Packed date](../../types.md#packed-date)
* [Magnetic influence flag and hour](../../types.md#packed-magnetic-influence-and-hour)
